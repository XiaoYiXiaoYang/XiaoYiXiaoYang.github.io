---
title: 操作系统复习（设备管理）
date: 2019-12-22 19:47:32
tags: [操作系统]
categories: [学习笔记]
---

 I/O系统的主要对象是I/O设备和相应的设备控制器

<!--more-->



**I/O系统的基本功能**

- 隐藏物理设备的细节

- 与设备的无关性

- 提高处理机和I/O设备的利用率

- 对I/O设备进行控制

- 确保对设备的正确共享

- 错误处理

**I/O系统的层次结构和模型**

四个层次

1.用户层I/O软件

2.设备独立性软件

3.设备驱动软件

4.中断处理程序

**I/O设备**

设备与控制器之间的接口



**设备控制器**

1.接收和识别命令

2.数据交换

3.表示和报告设备的状态

4.地址识别

5.数据缓冲区

6.差错控制



**设备控制器的组成**

1.设备控制器与处理机的接口

2.设备控制器与设备的接口



**I/O通道**

- I/O通道设备的引入

- 通道类型

字节多路通道（时间片轮转共享主通道）

数组选择通道（每次只允许一个设备传输，传输速率高）


- 瓶颈问题（通路上一个被占用就无法启动）

增加通路



**中断机构和中断处理程序**

处理过程

1.测定是否有未响应的中断信号

2.保护被中断进程的CPU环境

3.转入相应的设备处理程序

4.中断处理

5.恢复CPU的现场并退出中断



**设备驱动程序**


- 设备处理方式

为每一类设备设置一个进程

在整个系统中设置一个I/O进程

不设置专门的设备处理进程

- 处理过程

1.将抽象要求转换为具体要求

2.对服务进行校验

3.检查设备的状态

4.传送必要的参数

5.启动I/O设备

- 对I/O设备的控制方式

1.采用轮询的可编程I/O方式

2.使用中断的可编程I/O方式

3.直接存储器访问方式

4.I/O通道控制方式



**设备独立性软件**


逻辑设备表（LUT）

逻辑设备名、物理设备名、设备驱动程序的入口地址



**用户层I/O软件**

系统调用

库函数

- 假脱机系统

使用专门的外围控制机将数据传送的高速磁盘上



**缓冲区管理**

单缓冲

双缓冲

环形缓冲

缓冲池







2019-07-03 17:46:30 星期三