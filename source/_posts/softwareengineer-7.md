---
title: 软件工程复习（第七章 软件测试）
date: 2020-01-08 20:55:33
tags: [软件工程]
categories: [学习笔记]
---

 软件质量保证（QA）最关键的步骤是测试

<!--more-->

7.1 软件测试的基本概念

使用人工或自动手段运行软件系统的过程，目的在于检验系统是否满足规定的需求，或确定预期结果与实际结果之间的差异

7.1.1 软件测试的目标

为发现程序中的错误
软件测试的过程也是程序运行的过程
程序运行需要数据，为测试而设计的数据称为**测试用例**
设计测试用例的原则是尽可能暴露错误
不能保证通过测试的程序一定正确
测试只能找出程序中的错误，而不能证明程序无措
软件运行期间，测试活动从未中断，在交付用户之后，用户继续扮演软件测试者的角色

7.1.2 测试阶段的信息流程

软件配置：需求说明书、设计说明书、源代码
硬件配置：测试计划、测试工具、测试用例、期望结果


7.1.3 测试用例和场景设计

黑盒测试：已知产品应有的功能，通过测试检验每个功能
白盒测试：已知产品内部结构和工作过程通过测试验证产品内部动作是否按照产品规格说明书正常运行

a.黑盒测试白盒测试并不矛盾，互为补充
b.黑盒测试和白盒测试是两个端点
c.测试用例处于两者之间

选择测试用例取决于：
可能路径个数
输入数据的属性
计算量的大小
算法复杂度

总期望：用尽可能少的时间和代价发现尽可能多的错误


7.1.4 软件测试的步骤

**螺旋图**

为开发软件，沿螺旋线由外向里旋转，每旋转一圈，软件的抽象级别降低一次
为测试软件，沿同一螺旋线有里向外运动，每旋转一圈，测试的范围加大一级

螺旋中心对应单元测试，它测试源程序的每一模块，
下一步是集成测试，它测试软件的总体结构，
再下一步是确认测试，测试软件是否满足需求，
最后一步是系统测试，它检测软件与系统中其他元素是否协调

7.2 软件测试方法

7.2.1 白盒测试

*白盒测试关注处理细节，针对程序的每一条逻辑路径分别设计测试用例，检查分支和循环的情况

穷举测试不可取，一般选用少量“最有效”，即最有可能暴露错误的路径进行测试*

保证每模块中每一独立的路径至少执行一次
保证所有判断的每一分支至少执行一次
保证每一循环都在边界条件和一般条件下至少各执行一次
验证所有内部数据结构的有效性

7.2.1.1 **基本路径测试**

思想：根据软件过程性描述中的控制流程确定**复杂性度量**(V(G)),然后用此度量定义基本路径集合，由此导出一组测试用例，他们能保证每个语句至少执行一次。

为了使用图论的知识和术语，引入了**流图**的概念

流图把程序中的结构化构件改为一般有向图的表示形式

独立路径：指至少引入了一个新处理语句和一个新判断的一条程序通路

流图的复杂性度量V(G)等于程序中独立路径的条数，也给出了程序中每个语句至少执行一次所必须进行测试的最少次数

如果能设计测试用例，使得每条独立路径执行一次，则程序中所有语句、所有判断的真假分支都至少执行了一次

a.根据详细设计或代码导出流图
b.确定复杂性度量 V(G) = e - n + 2   //e是边数，n是顶点数
c.确定独立路径集合
d.准备测试用例

7.2.1.2 其他测试方法

**条件测试法**

简单条件和符合条件

分支测试，对一个符合条件C，里面含n个变量的布尔表达式，理论上需要2^n组数据进行完全的测试


**数据流测试法**

根据程序中变量定义和引用的位置选择测试路径

DEF（S）集合 表示所有在S中定义的变量的集合
USE（S）集合 表示所有在S中使用的变量的集合

如果从语句S到语句S’ 存在一条路径，且在这条路径上不存在X的再定义，则称在S中定义的X在S’处活跃

定义变量X的 定义-引用链（DU链），[X,S,S']

一种简单的数据流测试策略即对每条DU链至少覆盖一次，称为DU测试策略，它对于含if语句和多重循环语句的程序特别有效


**循环测试**

循环分为简单循环、并列循环、嵌套循环、非结构循环四类

```
对于n次的简单循环，做如下测试
a.完全跳过循环
b.仅循环一次
c.循环两次
d.循环m次，m<n
e.循环n-1次 n次 n+1次
```

7.2.2 黑盒测试

*黑盒测试完全不考虑程序的内部结构和处理过程
设计测试用例旨在说明：
 功能是否可操作性
 能否适当的接收输入数据并产生正确的输出结果
 能否保持外部信息的完整性*

黑盒测试主要诊断
不正确或遗漏的功能
界面出错
数据结构或外部数据库访问出错
性能问题
初始化和终止条件出错

7.2.2.1 等价分类法

把程序的输入数据集合按输入条件划分为若干个等价类，每一等价类相对于输入条件表示为一组有效或无效的输入，然后为每一等价类设计一个测试用例，这样既可大大减少测试的次数，又不丢失发现缺陷的机会

规则
如果能为输入条件指定一个范围，即可划分出一个有效的等价类
如果能为输入条件指定一个特定值，
如果能为输入条件指定一个集合
如果能为输入条件指定一个布尔量

7.2.2.2 边界值分析法（BVA）

BVA技术是对等价分类技术的补充，即在一个等价类中不是任选一个元素作为等价类的代表做测试，而是选择等价类边界上的值

规则
如果输入条件范围（a，b），则a,b和紧挨ab左右的值应作为测试用例
如果输入条件是一组数，那么这组数中最大，最小，次大，次小作为测试用例
如果内部数据结构有界，则检查数据结构的边界


7.3 软件测试策略

从模块测试开始，一级一级向外扩展，直至整个系统测试完毕

7.3.1 单元测试

7.3.1.1 单元测试任务

包括模块接口测试、模块局部数据结构测试、模块边界条件测试、模块中所有独立执行通路测试和模块各条出错处理通路测试

*模块接口测试*
输入参数和形参个数是否相同、类型是否匹配、量纲是否一致

调用其他模块时候实参和被调模块形参个数是否相同、类型是否匹配、量纲是否一致

*局部数据结构测试*
检查局部数据结构是为了保证临时存储在模块内的数据再程序执行过程中完整、正确

*独立路径测试*
在模块中应对每条独立路径进行测试

7.3.1.2 **单元测试过程**

为测试模块开发一个驱动模块或者若干个桩模块

驱动模块在大多数场合被称为“主程序”，它接收测试数据并将这些数据传递到被测试模块，被测试模块被调用后，“主程序”打印相关结果。

桩模块用于替代那些真正附属于被测模块的模块，桩模块的界面与其对应的真实模块完全一致，但内部只做少量数据处理，主要任务是打印“进入-退出”消息

7.3 **综合测试**（集成测试）

按设计要求把通过单元测试的模块组装在一起之后，进行集成测试以便发现与接口相关的各种缺陷

增量式集成：程序一段一段扩展，测试的范围一步一步地增大，缺陷易于定位和纠正，界面的测试亦可做到完全彻底

非增量式集成：把所有模块按设计要求一次全部组装起来，然后进行整体测试，

7.3.2.1 自顶向下集成

它从主控模块开始，按照软件的控制层次结构，以深度优先或广度优先的策略，逐步把各个模块集成在一起。

深度优先策略首先把主控制路径上的模块集成在一起，至于选择哪一条路径带随意性

步骤：
a.以主控模块为测试驱动模块，把对主控模块进行单元测试时引入的所有桩模块用实际模块替代
b.依据所选的集成策略，每次只替代一个桩模块
c.每集成一个模块立即测试一遍
d.只有每组测试完成后，才着手替换下一个模块
e.为避免引入新缺陷，须不断进行回归测试，

7.3.2.2 自底向上集成

从“原子模块”（即软件结构最低层的模块）开始组装和测试，因测试到较高层模块时，所需的下层模块功能均已具备，所以不再需要桩模块

步骤：
a.把低层模块的组织称实现某个子功能的模块群
b.开发一个测试用驱动模块，控制测试数据的输入和测试结果的输出
c.对每个模块群进行测试
d.删除测试使用的驱动模块，用较高层模块把模块群组织成为完成更大功能的新模块群


7.3.3 确认测试

确认测试应检查软件能否按合同要求进行工作，即是否满足软件需求规格说明中的确认标准

a测试：阿尔法测试，指软件开发公司组织内部人员模拟各类用户行为对即将面市的软件制品进行测试，试图发现缺陷并修正

经过阿尔法测试的调整的软件制品称为贝塔版本

b测试：贝塔测试，软件开发公司组织各方面的典型用户在日常工作中实际使用b版本


7.3.4 系统测试

恢复测试

安全测试

强度测试

性能测试

7.3.5 排错

*程序中的错误的特征*:

错误的外部特征兆远离引起错误的内部原因，高度耦合的程序结构此类现象更严重

纠正一个错误造成另一个错误暂时消失

某些错误征兆只是假象

一时疏忽造成的错误征兆不易追踪

错误是由于分时而不是程序引起

输入条件难以精确的再现

错误征兆时有时无

错误是由于分布式处理造成

*排错方法*：

原始类
回溯类
排除类

7.4 自动测试工具

Code Analysis tools

Test execution tools

Test case generators



------------

2019-05-14 21:45:02 星期二