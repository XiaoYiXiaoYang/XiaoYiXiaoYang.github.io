---
title: 计算机系统结构复习
date: 2020-01-08 16:40:36
tags: [计算机系统结构]
categories: [学习笔记]
---

数据表示、寻址方式、寄存器组织、指令系统、存储系统、中断机构、机器工作状态、I/O系统、信息保护

<!--more-->

#### 基本概念

**M0：硬联逻辑---->硬件设计员**

**M1：微程序机器级---->逻辑设计员**

**M2：传统机器级---->机器语言程序员**

**M3：操作系统机器级---->操作员**

**M4：汇编语言机器级---->汇编语言程序员**

**M5:高级语言机器级---->高级语言程序员**

**M6：应用程序机器级---->用户**

**翻译技术**：先把N+1级程序全部变换成N级程序，再去执行新产生的N级程序，在执行过程中N+1级程序不再被访问。

**解释技术**：每当一条N+1级指令被译码后直接执行一串等效的N级指令，然后再取下一条N+1级指令，依次重复执行。


**计算机系统的结构**：是计算机系统的软硬件界面

**计算机组成**：是计算机系统的逻辑实现

**计算机实现**：是计算机组成的物理实现

例：指令系统的定义属于系统结构；指令的实现，如取指、译码、运算等具体操作的安排及其时序属于“组成”；而这些指令功能的具体电路、器件设计及装配技术属于“实现”。

**透明性**：本来存在的事物或属性，单从某种角度看却好像不存在的现象称为透明性

例：低层机器的概念结构和功能特性对高层机器的程序设计者往往是透明的。

**向上兼容**：在低档机器上编写的软件，不加修改就可以运行于高档机器上

**向后兼容**：在某个使其投入市场的该型号机器上编写的软件不加修改就可以运行于在它之后投入市场的机器

**模拟**：机器语言程序解释实现软件移植的方法称为模拟

例：在A机器上运行B机器的指令系统，B机器的一条机器指令由A机器的一段机器语言程序解释执行

**仿真**：用微程序直接解释另一种机器指令系统实现软件移植的方法称为仿真

例：直接用A机器的微程序解释B机器的机器指令

#### 并行性的发展

冯.诺依曼机：由运算器、控制器、存储器、输入设备、输出设备组成

**并行性**：指在同一时刻或同一时间间隔内完成两种或两种以上性质相同或不同的工作

同时性：把两个或者多个事件在同一时刻发生的并行性叫同时性

并发性：把两个或多个事件在同一事件间隔内发生的并行性叫并发性

**并行性等级从低到高：**

指令内部并行：执行内部的微操作之间并行

指令级并行：并行执行两条或多条指令

任务级或过程级并行：并行执行两个或多个任务

作业级或程序级并行：在多个作业或程序间并行

**从处理数据的角度，并行性等级从低到高**：

字串位串：同时只对一个字的一位处理

字串位并：同时对一个字的全部位处理

字并位串：同时对许多字的同一位处理

全并行：同时对许多字的全部位或者部分位处理

**提高并行性的技术途径**

**时间重叠**：多个处理过程在时间上相互错开，轮流重叠的使用同一套硬件设备的各个部分

**资源重复**：通过重复设置资源数量，尤其是硬件资源

**资源共享**：多个任务按一定时间顺序轮流使用同一套资源

**异构型多处理机系统**：
例如：把语言编译过程分为扫描、分析、生成等部分，分别设立专门的处理机，与执行机器语言的通用处理机相连，以进行流水处理。显然，这类多处理剂属于非对称或异构型多处理机系统

**同构型多处理机系统**
由于每个处理机都是同类型的，且完成同样的功能，所以是一种对称性或同构型多处理机系统

**计算机性能的评价**

1.经常时间优先原则
对于经常发生的事件，赋予它优先的处理权和资源使用权，加快它的处理速度，以便提高整个系统的性能

2.Amdahl定律

系统加速比 = 系统性能（改善后）/系统性能（改善前） = 总执行时间（改善后）/总执行时间（改善前）

可改进比例Fe = 可改进执行时间（改进前） /总执行时间（改进后）

部件加速比Se = 改进部分执行时间（改进前）/改进部分执行时间（改进后）

改进后系统的总执行时间Tn = （1-Fe）.T0 +Fe .T0 /Se

改进前后整个系统的加速比Sn = T0 /Tn


3.程序访问的局部性原理
时间上局部
空间上局部

**CPU性能公式**

CPU时间 = 总的CPU时钟周期数 / 时钟频率f

CPI = 总CPU时钟周期数 / IC

CPU时间 = CPI . IC / f =CPI . IC . T

MIPS = 指令条数 / 程序执行时间 . 10^6 = 时钟频率 / CPI . 10^6

MFLOPS = 程序中浮点操作次数 / 程序执行时间 . 10^6


#### 指令系统

**数据表示**

1.自定义数据表示
让数据类型直接与数据本身联系在一起

a.带标志符的数据表示
定义每个数据由类型标志为和数据值两部分组成，用类型标志位指明数据值部分究竟是二进制整数、十进制数、浮点数、字符串还是地址字

b.数据描述符
对于向量、数组、记录这类每个元素具有相同属性的数据可以定义一个数据描述符来说明共同的类型信息


2.向量、数组数据表示

硬件上设置有以流水或阵列方式处理的高速运算器，而指令系统中则包含功能丰富的向量或阵列运算指令

3.堆栈数据表示

为了能高效的实现编译和子程序调用中的堆栈数据结构，很多机器设置堆栈数据表示

**浮点数尾数的下溢处理**



1.截断法

简单的将下溢部分截去

2.舍入法

将尾数多保留一位(溢出部分的最高位)，处理时该保留位加1后舍去

3.恒置1法

将尾数规定字长的最低位恒置1

4.查表舍入法


**指令系统的优化设计**

**寻址方式分析**

**编址方式**

独立编址
统一编址

**程序定位技术**

程序员编写程序时使用的地址称为逻辑地址
程序在主存中的实际地址称为物理地址

1.直接定位

程序员编写程序时直接指明程序和数据在实际主存中存放的位置

2.静态再定位

目的程序在装入主存时通过调用装入程序，用软件方法把目的程序的逻辑地址变换成物理地址

3.动态再定位

程序不经任何变换过程而直接装入主存，同时将装入主存的其实地址存入对应该道出层序使用的基址寄存器中

**按整数边界存储的概念**

为了避免信息跨主存边界存储的情况，以保证任何时候都只用一个存储周期访问到所需信息


**指令格式的优化**

1.操作码的优化
信息源熵 H
信息冗余量 1-H / 操作码实际平均长度

a.等长操作码编码

b.Huffman编码

当各种指令出现的频度不等时，对出现频度高的指令用最短的位数表示，对出现频度低的指令用较长的位数表示

c.扩展操作码编码

等长扩展码：操作码扩展位数相同
不等长扩展码：操作码扩展位数不相同

2.地址码的优化

3.指令格式优化



**计算机指令系统的发展方向**

CISC（复杂指令系统计算机）

结构分析
a.指令系统庞大
b.采用多种不同的寻址方式且指令的长度可变，指令格式复杂
c.由于CISC指令系统中的许多复杂指令需要很复杂的操作，使得执行速度很低，而且各指令功能不平衡
d.指令系统包含特殊用途的指令



RISC（简单指令系统计算机）

a.精简的指令系统
b.减少指令系统的可采用寻址方式的种类
c.在指令格式设计时尽可能简化和规整，并让全部指令尽可能等长
d.每条指令的功能尽可能简单
e.处理器中设置大量的通用寄存器，只允许LOAD和STORE指令访问寄存器，其他指令均在寄存器之间进行
f.大多数指令采用硬联控制，以提高指令执行速度

**RISC使用的技术**

(1)遵循按RISC机器一般原则设计的机器
(2)采用LOAD/STORE结构及重叠寄存器窗口技术
(3)采用流水技术和延迟转移技术
(4)在逻辑设计上采用硬联线实现和微程序固件实现相结合的技术
(5)采用优化编译技术



**流水线技术与向量处理技术**

重叠方式

先行控制（缓冲技术和预处理技术）

先行指令栈、先行读数栈、先行操作栈、后行写数栈

**流水技术原理**























------------

2019-06-23 20:03:32 星期日