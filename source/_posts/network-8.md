---
title: 计算机网络--UDP
date: 2019-12-30 20:45:37
tags: [计算机网络]
categories: [Network]
---

<center>
 无连接、不可靠的运输层用户数据报协议UDP
</center>

<!--more-->



### 用户数据报协议UDP

UDP在传送之前不需要建立连接，两个对等实体在通信时传送的数据单位叫**UDP用户数据报**，UDP在IP的数据报服务商增加了**复用、分用、差错检测**的功能。

复用：发送方不同的应用进程都可以使用同一个传输层协议传送数据

分用：接收方的运输层在剥去报文的首部后能把这些数据正确交付目的应用进程

1.**UDP是无连接的**，发送数据前不需要建立连接，减少了开销和发送数据前的时延

2.**UDP使用尽最大努力交付**，即不保证可靠交付，主机不需要维持复杂的连接状态表

3.**UDP是面向报文的**，发送方的UDP对应用程序交下来的报文，在添加首部后就向下交付IP层，UDP对应用层交下来的报文，既不合并也不拆分，而是保留这些报文的边界，所以，**应用程序必须使用合适大小的报文，若报文太长UDP交付IP层后，IP层在传送的时候可能要分片；若报文太短，则IP层拿到后首部相对长度太大，降低效率**

4.UDP没有拥塞控制，**很多视频电话等应用要求源主机以恒定的速率发送数据，并且允许在网络发生拥塞时丢失一些数据，但却不允许数据由太大的时延 **


5.UDP支持一对一、一对多、多对一和多对多的交互通信

6.UDP首部开销小，只有8个字节



### UDP首部格式

用户数据字段有两个字段，分别是数据字段和首部字段

1.**源端口** 2字节

2.**目的端口** 2字节

3.**长度** 2字节   (UDP用户数据报长度)

4.**检验和**  2字节  (检测用户数据报在传输中是否有错)


分用例子：**运输层从IP层收到UDP数据报时，就根据首部中的目的端口，把UDP数据报通过相应的端口，上交最后的重点--应用进程**


**如果UDP发现收到的报文中的目的端口不正确，就丢弃该报文，并由忘记控制报文协议ICMP发送“端口不可达”差错报文给发送方**


由于UDP通信无连接，所以不需要使用套接字来建立连接





2019-10-27 17:14:08 星期日