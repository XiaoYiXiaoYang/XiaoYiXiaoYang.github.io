---
title: 操作系统复习（文件、磁盘）
date: 2019-12-22 19:49:04
tags: [操作系统]
categories: [学习笔记]
---

将其管理的程序和数据通过组织为一系列文件的方式实现

<!--more-->

## 文件

数据项

记录

文件

有结构文件-由记录构成

无结构文件- 由字符流构成

文件的逻辑结构：从用户观点出发观察到的文件组织形式

文件的物理结构：系统将文件存储在外存上所形成的一种形式


将有结构文件分为顺序文件、索引文件、顺序索引文件

- 顺序文件

通常按存入时间的先后进行排序

隐式寻址：定长记录的文件，指 Rptr = Rptr + L  

显式寻址：可变长记录文件，


- 索引文件

按关键字建立索引

- 索引顺序文件

记录分组，然后为组内第一个记录建立索引项

**文件目录**

文件控制块（FCB）

索引结点

- 简单文件目录

单级文件目录

两级文件目录

树形结构目录

- 路径查询技术

线性检索法（按照树形结构读取盘块）

Hash方法


**文件共享**

有向无环图（DAG）

利用索引结点（共享的用户都设置有指向共享文件的索引结点指针）

利用符号链接（只有文件主拥有索引结点指针，其他用户拥有该文件的路径名）

不会发生文件主删除文件，留下悬空指针的情况

**文件保护**

访问控制表

访问权限表


## 磁盘

**外存的组织方式**（非空闲块）

- 连续组织方式（相邻存储，只需记录起始地址和大小）

- 链接组织方式（离散存储，需要记录起始盘块和跳数，每个盘块含有指向下一个盘块的指针）

- FAT技术

引入“卷”的概念，

“簇”是一组相邻的扇区，在FAT中作为一个虚拟扇区

FAT12  FAT16  FAT32

- NTFS组织

以为簇作为磁盘空间分配和挥手的基本单位

根据不同的磁盘容量，选择相应大小的簇

**索引组织方式**

- 单级索引组织方式（为每个文件分配一个索引块，将分配给该文件的盘块号记录在索引块中）

- 多级索引组织方式

- 增量式索引组织方式

直接地址 10 . 4=40KB

一次间接地址  4.1k = 4MB

二次间接地址  4.1k.1k = 4GB

三次间接地址  4.1k.1k.1k = 4TB

**文件存储空间的管理(空闲块)**

- 空闲表法

| 序号  | 第一空闲盘块号  | 空闲盘块数 |
| ------------ | ------------ | -------|


- 空闲链表法

空闲盘块链

空闲盘区链

- 位示图法

- 成组链接法

**提高磁盘IO速度**

**磁盘高速缓存**

**廉价磁盘冗余阵列**（RAID）

并行交叉存取



**磁盘调度算法**

- 先来先服务

- 最短寻道时间优先（SSTF）

要求访问的磁道与当前磁头所在的磁道距离最近

- 扫描算法（SCAN）

不仅考虑访问磁道与当前磁道的距离，更优先考虑磁头当前的移动方向

- 循环扫描算法（CSCAN）（单向移动）

当磁头移动到最外磁道并访问后，磁头立即返回最里磁道访问


- NstepSCAN算法



- FSCAN算法



2019-07-03 19:26:07 星期三