---
title: 数据结构（索引）
date: 2019-12-25 11:23:13
tags: [数据结构]
categories: [学习笔记]
---

 索引是为了加快查找速度而设置的一种数据结构

<!--more-->

**关键词**

记录：在索引问题及数据库中，常常将数据元素称为记录

文件：通常是指外存上的记录集合

索引：索引是将关键码与它对应的记录相关联的过程

索引项：索引项包含关键码和关键码对应记录在存储器中的位置等信息

线性索引：若索引组织为线性结构，则称其为线性索引或索引表；

树形索引：若索引组织为树结构，则称其为树形索引

多级索引：对一些大型文件，索引本身可能再建立一个索引，这样构成了多级索引

## 线性索引


### 稠密索引

若文件的每一个记录对应一个索引项，索引项总是按关键码有序排列


| 关键码 | 指针 |
| ------ | ---- |
| 8      |      |
| 20     |      |
| 25     |      |


文件记录

| 关键码 | 其他数据项 |
| ------ | ---------- |
| 8      |            |
| 25     |            |
| 20     |            |

### 稀疏索引

为了减少索引块的个数，可以对文件分块，使其分块有序，而块内无序

即要求第二块的关键码记录大于第一块的关键码记录

| 块内最大关键码 | 块长 | 首地址 |
| -------------- | ---- | ------ |
| 35             | 3    |        |
| 61             | 3    |        |
| 88             | 3    |        |


文件：

| 关键码 | 其他数据项 |
| ------ | ---------- |
| 35     |            |
| 20     |            |
| 8      |            |
| 52     |            |
| 41     |            |
| 60     |            |
| 65     |            |
| 88     |            |
| 76     |            |


## 多重表

除了为文件建立一个主索引外，还为每个需要查找的次关键码建立一个索引

在文件中为建立索引的次关键码分别增设一个指针域，用于将关键码相同的记录连接在一起(稠密索引)；或者将同一块中的记录链接在一起(稀疏索引)


## 树形索引

### 2-3树

1.每个结点包含一个或两个关键码
2.每个内部结点有2个子女或者3个子女
3.所有叶子结点都在树的同一层

对于每一个结点，左子树中的所有结点的值都小于第一个关键码的值，中间子树的值都大于第一个关键码的值，如果有右子树的话，右子树的孩子大于第二个关键码的值。

**查找**

如二叉排序树一样，从根结点开始

**插入**

首先找到被插入记录应该插入的叶子结点，
如果这个叶子结点只包含一个记录，则把新记录添加到这个结点

如果该叶子结点已经包含了2个记录，则需要把L分成两个结点，称为一次分裂，然后将中间的关键码提升到父节点去，如果父节点也满了，则继续“分裂--提升”

**删除**

从一个包含两个记录的叶子结点删除一个记录
(直接删除，没有影响)

唯一的一个记录从一个叶子结点删除
(从兄弟结点借一个)
(如果没有的话可以把该节点和一个兄弟结点合并)


从一个内部结点删除一个记录
(将被删除的记录用另一个记录代替)



## B树

一棵m阶的B树，为满足以下特性的m叉树

1.所有叶子结点都出现在同一层
2.树中每个结点至多有m棵子树
3.若根节点不是终端结点，则至少有两棵子树
4.除跟几点外的所有非终端结点至少有【m/2】棵子树
5.所有的非终端结点都包含以下数据

B树是2-3树的推广，B树的每个节点上是多关键码的有序表，


**查找**

1.在B树中查找结点
2.在结点中查找关键码

**插入**

1.定位
2.“分裂--提升”

**删除**

若不是终端结点，则用子树中的最小键值代替



## B+树

1.具有m棵子树的结点含有m个关键码，即每一个关键码对应一棵子树

2.关键码Ki是它所对应的子树的根节点中的最大(或最小)关键码

3.所有的终端结点中包含了全部关键码信息，及指向关键码记录的指针

4.各终端结点按关键码的大小次序链接在一起，形成单链表


B+树只在终端结点存储记录，内部结点存储关键码，但是这些关键码只是用于引导查找的











2019-10-20 15:13:48 星期日